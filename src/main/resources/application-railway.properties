# Railway production profile

# MongoDB Atlas connection - DISABLED FOR TESTING
# spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/color-craze}

# MongoDB configuration for Railway - DISABLED
# spring.data.mongodb.auto-index-creation=true

# Disable MongoDB auto-configuration for testing
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration

# Server configuration - Railway provides PORT automatically
server.port=${PORT:8080}

# CORS configuration for production
app.cors.allowed-origins=${FRONTEND_URL:http://localhost:3000},https://*.railway.app,https://*.vercel.app,https://adequate-bravery-production.up.railway.app
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=Authorization,Content-Type,X-Requested-With

# Reduce MongoDB driver logging
logging.level.org.mongodb.driver.cluster=WARN
logging.level.org.mongodb.driver.connection=WARN
logging.level.org.mongodb.driver.client=WARN

# Health checks configuration - MongoDB disabled
management.health.mongo.enabled=false
management.endpoint.health.show-details=always
management.health.defaults.enabled=true
management.health.ping.enabled=true
management.health.diskspace.enabled=true

# Feature flags
app.guest.persist=false
app.auth.persist=false

# JWT configuration
app.jwt.secret=${JWT_SECRET:defaultSecretForDevelopmentOnly123456789}
app.jwt.expiration=${JWT_EXPIRATION:86400000}

# Health check endpoint
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always