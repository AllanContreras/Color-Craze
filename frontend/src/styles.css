:root{
	--bg1: #0f172a;
	--bg2: #0b1220;
	--card: rgba(255,255,255,0.06);
	--muted: rgba(255,255,255,0.7);
	--accent: #7c3aed;
	--gap: 24px;
	--nudge-left: 48px; /* tweak this to move sidebar/layout more or less to the left */
	--card-pad: 18px;
}

html,body{height:100%}
body {
	font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	margin: 0; padding: 0; min-height:100%;
	background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
	color: white;
	-webkit-font-smoothing:antialiased;
	-moz-osx-font-smoothing:grayscale;
}

.app-shell{ display:flex; align-items:center; justify-content:flex-start; min-height:100vh; padding:24px 24px 24px 12px }
.container{ width:100%; max-width:1100px }
.card{ background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); padding: var(--card-pad); border-radius:12px; box-shadow: 0 6px 24px rgba(2,6,23,0.6); }

header{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:18px }
header h2{ margin:0; font-size:20px; color:var(--accent) }
nav a{ color:var(--muted); text-decoration:none; margin-right:8px }
nav a:hover{ color: white }

button{ padding:8px 12px; background:var(--accent); border:none; color:white; border-radius:8px; cursor:pointer }
button:disabled{ opacity:0.5; cursor:not-allowed }

.grid{ display:grid; grid-template-columns: repeat(31, 24px); gap:3px; background: rgba(0,0,0,0.12); padding:6px; border-radius:8px }
.box{ width:24px; height:24px; border-radius:4px; box-shadow: inset 0 -1px 0 rgba(0,0,0,0.2); }
.box .avatar-mark{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:18px; line-height:1; filter: drop-shadow(0 1px 1px rgba(0,0,0,0.6)); }

/* Larger board when the game starts */
.grid.large{ grid-template-columns: repeat(31, 32px); }
.grid.large .box{ width:32px; height:32px; }
.grid.large .box .avatar-mark{ font-size:24px }

/* Ultra large board for separate window */
.grid.ultra{ grid-template-columns: repeat(31, 42px); }
.grid.ultra .box{ width:42px; height:42px; }
.grid.ultra .box .avatar-mark{ font-size:30px }

@media (max-width:900px){
	.grid{ transform:scale(0.75); transform-origin: left top }
}

.players-list{ list-style:none; padding:0; margin:0 }
.players-list li{ padding:6px 8px; background: rgba(255,255,255,0.02); margin-bottom:6px; border-radius:6px }

.events pre{ background: rgba(255,255,255,0.02); padding:8px; border-radius:6px; color: #e6eef8; }

/* Game layout: single column, full-width board */
.game-page{ min-height:100vh; display:grid; grid-template-rows: auto 1fr; margin-left: 0 }
.game-layout{ display: grid; grid-template-columns: 1fr; column-gap: var(--gap); align-items:center; width:100%; height:100%; margin-left: 0 }
.sidebar{ display:none }
/* Left-align the board area */
.board-wrap{ display:flex; justify-content:flex-start; align-items:center; width:100%; height:100%; }

@media (max-width: 900px){
	.game-layout{ grid-template-columns: 1fr; margin-left:0 }
	.game-page{ margin-left:0 }
	.sidebar{ padding-left:0; margin-bottom:12px }
	.board-wrap{ width:100%; }
}

/* Results overlay */
.results-overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.55); display:flex; align-items:center; justify-content:center; z-index:50 }
.results-card{ width:min(720px, 92vw); background: linear-gradient(180deg, rgba(17,24,39,0.95), rgba(8,12,20,0.95)); border:1px solid rgba(255,255,255,0.08); border-radius:16px; padding:20px 20px 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); position:relative; overflow:hidden }
.winner-card{ display:flex; align-items:center; gap:16px; padding:14px; border-radius:14px; border:2px solid var(--accent); background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); margin-bottom:14px }
.winner-badge{ width:64px; height:64px; border-radius:50%; background:#0f172a; display:flex; align-items:center; justify-content:center; position:relative; border:2px solid rgba(255,255,255,0.18) }
.winner-badge .crown{ position:absolute; top:-12px; right:-8px; font-size:22px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5)) }
.winner-badge .avatar{ font-size:28px }
.winner-text .title{ font-weight:700; font-size:18px; color:#e2e8f0; letter-spacing:0.2px }
.winner-text .name{ font-weight:800; font-size:22px; color:#ffffff; text-shadow:0 1px 0 rgba(0,0,0,0.5) }
.winner-text .score{ color:#cbd5e1; margin-top:2px }

.standings ul{ list-style:none; padding:0; margin:10px 0 12px; max-height:240px; overflow:auto }
.standing-item{ display:grid; grid-template-columns: 42px 1fr auto; gap:12px; align-items:center; padding:10px 12px; border-radius:10px; background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.08); margin-bottom:8px }
.standing-item .place{ width:34px; height:34px; border-radius:50%; display:flex; align-items:center; justify-content:center; background:#0b1220; border:1px solid rgba(255,255,255,0.15); color:#e5e7eb; font-weight:800 }
.standing-item .who{ display:flex; align-items:center; gap:10px }
.standing-item .who-avatar{ width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; border:2px solid var(--accent); background:#0f172a; font-size:16px }
.standing-item .who-name{ color:#e5e7eb; font-weight:700; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width:46vw }
.standing-item .pts{ color:#cbd5e1; font-weight:700 }

.results-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:6px }

/* Simple confetti using CSS animation */
.confetti{ pointer-events:none; position:absolute; inset:0; overflow:hidden }
.confetti-piece{ position:absolute; top:-20px; width:8px; height:12px; border-radius:2px; opacity:0.9; animation: confetti-fall 1.8s linear infinite }
@keyframes confetti-fall{
	0%{ transform: translateY(-20px) rotate(0deg) }
	100%{ transform: translateY(120vh) rotate(360deg) }
}

/* Prominent match timer */
.hud-timer{ position:absolute; top:12px; left:50%; transform: translateX(-50%); z-index:6; pointer-events:none; padding:6px 14px; border-radius:12px; border:1px solid rgba(255,255,255,0.15); font-weight:900; letter-spacing:1px; }
.hud-timer.default{ font-size:48px; color:#ffffff; text-shadow: 0 2px 6px rgba(0,0,0,0.5); background:rgba(0,0,0,0.35) }
.hud-timer.cyber{ font-size:56px; color:#00f6ff; text-shadow: 0 0 10px rgba(0,246,255,0.8), 0 0 20px rgba(0,246,255,0.5); background: rgba(11,16,32,0.5); border-color: rgba(0,246,255,0.35) }
.hud-timer.metal{ font-size:54px; color:#e5e7eb; text-shadow: 0 2px 0 #111, 0 4px 14px rgba(0,0,0,0.6); background: linear-gradient(180deg, rgba(41,45,53,0.65), rgba(23,26,32,0.65)); border-color: rgba(255,255,255,0.18) }
.hud-timer.moon{ font-size:56px; color:#ffffff; text-shadow: 0 0 10px rgba(220,230,255,0.9), 0 0 24px rgba(180,200,255,0.6); background: rgba(14,17,24,0.45); border-color: rgba(255,255,255,0.18) }

/* Waiting players list */
.waiting-players{ position:absolute; top:12px; left:12px; z-index:6; min-width:220px; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.15); background: rgba(0,0,0,0.35); backdrop-filter: blur(2px) }
.waiting-players .wp-title{ font-size:12px; font-weight:800; color:#e5e7eb; opacity:0.9; letter-spacing:0.8px; margin-bottom:6px; text-transform:uppercase }
.waiting-players ul{ list-style:none; padding:0; margin:0; max-height:180px; overflow:auto }
.waiting-players li{ display:flex; align-items:center; gap:8px; padding:6px 4px; color:#e5e7eb; border-radius:8px }
.waiting-players .wp-dot{ width:10px; height:10px; border-radius:50%; border:1px solid rgba(0,0,0,0.3) }
.waiting-players .wp-name{ font-weight:700; max-width: 42vw; overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
.waiting-players .wp-emoji{ margin-left:auto }
.waiting-players.cyber{ border-color: rgba(0,246,255,0.35); box-shadow: 0 0 12px rgba(0,246,255,0.25) inset }
.waiting-players.metal{ border-color: rgba(255,255,255,0.18); background: linear-gradient(180deg, rgba(41,45,53,0.42), rgba(23,26,32,0.42)) }
.waiting-players.moon{ border-color: rgba(255,255,255,0.18); box-shadow: 0 0 14px rgba(200,210,255,0.18) inset }
